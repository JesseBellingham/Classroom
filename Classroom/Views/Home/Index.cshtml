@{
    ViewBag.Title = "Home Page";
}
<div ng-controller="HomeCtrl">
    <div class="row">
        <table class="table table-striped table-bordered ng-table">
            <thead>
                <tr>
                    <td>Class</td>
                    <td>Location</td>
                    <td>Teacher name</td>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat-start="class in classes">
                    <td ng-bind="class.className"></td>
                    <td ng-bind="class.location"></td>
                    <td ng-bind="class.teacherName"></td>
                    <td><a href ng-click="editClassDetails(class)"</td>
                    <td><a href ng-click="class.$hideRow = !class.$hideRow">Show enrolment info</a></td>
                </tr>
                <tr ng-repeat-end ng-show="class.$hideRow" class="ng-hide">
                    <td></td>
                    <td>
                        <table class>
                            <thead>
                                <tr>
                                    <th>Enrolments</th>
                                </tr>
                                <tr>
                                    <th>Student First Name</th>
                                    <th>Student Last Name</th>
                                    <th>Age</th>
                                    <th>GPA</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="enrolment in class.enrolments">
                                    <td ng-bind="enrolment.studentFirstName"></td>
                                    <td ng-bind="enrolment.studentLastName"></td>
                                    <td ng-bind="enrolment.studentAge"></td>
                                    <td ng-bind="enrolment.studentGPA"></td>
                                </tr>
                            </tbody>
                        </table>
                    </td>                   
                </tr>
            </tbody>
        </table>
        <button class="btn btn-primary" ng-click="createNewClass()">Create new class</button>
    </div>

    <div class="row">
    </div>
</div>

@section scripts
{
    @Scripts.Render("~/Content/app/services/home-service.js")
    @Scripts.Render("~/Content/app/controllers/home-controller.js")
}